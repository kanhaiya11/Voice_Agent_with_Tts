{"version":3,"sources":["../../../src/llm/provider_format/google.test.ts"],"sourcesContent":["// SPDX-FileCopyrightText: 2025 LiveKit, Inc.\n//\n// SPDX-License-Identifier: Apache-2.0\nimport { VideoBufferType, VideoFrame } from '@livekit/rtc-node';\nimport { beforeEach, describe, expect, it, vi } from 'vitest';\nimport { initializeLogger } from '../../log.js';\nimport { ChatContext, FunctionCall, FunctionCallOutput } from '../chat_context.js';\nimport { serializeImage } from '../utils.js';\nimport { toChatCtx } from './google.js';\n\nvi.mock('../utils.js', () => ({\n  serializeImage: vi.fn(),\n}));\n\ndescribe('Google Provider Format - toChatCtx', () => {\n  const serializeImageMock = vi.mocked(serializeImage);\n\n  initializeLogger({ level: 'silent', pretty: false });\n\n  beforeEach(async () => {\n    vi.clearAllMocks();\n  });\n\n  it('should convert simple text messages', async () => {\n    const ctx = ChatContext.empty();\n    ctx.addMessage({ role: 'user', content: 'Hello' });\n    ctx.addMessage({ role: 'assistant', content: 'Hi there!' });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [{ text: 'Hello' }],\n      },\n      {\n        role: 'model',\n        parts: [{ text: 'Hi there!' }],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should handle system messages separately', async () => {\n    const ctx = ChatContext.empty();\n    ctx.addMessage({ role: 'system', content: 'You are a helpful assistant' });\n    ctx.addMessage({ role: 'user', content: 'Hello' });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [{ text: 'Hello' }],\n      },\n    ]);\n    expect(formatData.systemMessages).toEqual(['You are a helpful assistant']);\n  });\n\n  it('should handle multiple system messages', async () => {\n    const ctx = ChatContext.empty();\n    ctx.addMessage({ role: 'system', content: 'You are a helpful assistant' });\n    ctx.addMessage({ role: 'system', content: 'Be concise in your responses' });\n    ctx.addMessage({ role: 'user', content: 'Hello' });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [{ text: 'Hello' }],\n      },\n    ]);\n    expect(formatData.systemMessages).toEqual([\n      'You are a helpful assistant',\n      'Be concise in your responses',\n    ]);\n  });\n\n  it('should handle multi-part text content', async () => {\n    const ctx = ChatContext.empty();\n    ctx.addMessage({ role: 'user', content: ['Line 1', 'Line 2', 'Line 3'] });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [{ text: 'Line 1' }, { text: 'Line 2' }, { text: 'Line 3' }],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should handle messages with external URL images', async () => {\n    serializeImageMock.mockResolvedValue({\n      inferenceDetail: 'high',\n      externalUrl: 'https://example.com/image.jpg',\n      mimeType: 'image/jpeg',\n    });\n\n    const ctx = ChatContext.empty();\n    ctx.addMessage({\n      role: 'user',\n      content: [\n        'Check out this image:',\n        {\n          id: 'img1',\n          type: 'image_content',\n          image: 'https://example.com/image.jpg',\n          inferenceDetail: 'high',\n          _cache: {},\n        },\n      ],\n    });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [\n          { text: 'Check out this image:' },\n          {\n            fileData: {\n              fileUri: 'https://example.com/image.jpg',\n              mimeType: 'image/jpeg',\n            },\n          },\n        ],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should handle messages with base64 images', async () => {\n    serializeImageMock.mockResolvedValue({\n      inferenceDetail: 'auto',\n      mimeType: 'image/png',\n      base64Data: 'iVBORw0KGgoAAAANSUhEUgAAAAEAAAAB',\n    });\n\n    const ctx = ChatContext.empty();\n    ctx.addMessage({\n      role: 'assistant',\n      content: [\n        {\n          id: 'img1',\n          type: 'image_content',\n          image: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAB',\n          inferenceDetail: 'auto',\n          _cache: {},\n        },\n        'Here is the image you requested',\n      ],\n    });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'model',\n        parts: [\n          {\n            inlineData: {\n              data: 'iVBORw0KGgoAAAANSUhEUgAAAAEAAAAB',\n              mimeType: 'image/png',\n            },\n          },\n          { text: 'Here is the image you requested' },\n        ],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should handle VideoFrame images', async () => {\n    serializeImageMock.mockResolvedValue({\n      inferenceDetail: 'low',\n      mimeType: 'image/jpeg',\n      base64Data: '/9j/4AAQSkZJRg==',\n    });\n\n    const frameData = new Uint8Array(4 * 4 * 4); // 4x4 RGBA\n    const videoFrame = new VideoFrame(frameData, 4, 4, VideoBufferType.RGBA);\n\n    const ctx = ChatContext.empty();\n    ctx.addMessage({\n      role: 'user',\n      content: [\n        {\n          id: 'frame1',\n          type: 'image_content',\n          image: videoFrame,\n          inferenceDetail: 'low',\n          _cache: {},\n        },\n      ],\n    });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [\n          {\n            inlineData: {\n              data: '/9j/4AAQSkZJRg==',\n              mimeType: 'image/jpeg',\n            },\n          },\n        ],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should cache serialized images', async () => {\n    serializeImageMock.mockResolvedValue({\n      inferenceDetail: 'high',\n      mimeType: 'image/png',\n      base64Data: 'cached-data',\n    });\n\n    const imageContent = {\n      id: 'img1',\n      type: 'image_content' as const,\n      image: 'https://example.com/image.jpg',\n      inferenceDetail: 'high' as const,\n      _cache: {},\n    };\n\n    const ctx = ChatContext.empty();\n    ctx.addMessage({ role: 'user', content: [imageContent] });\n\n    await toChatCtx(ctx, false);\n    await toChatCtx(ctx, false);\n\n    expect(serializeImageMock).toHaveBeenCalledTimes(1);\n    expect(imageContent._cache).toHaveProperty('serialized_image');\n  });\n\n  it('should handle tool calls and outputs', async () => {\n    const ctx = ChatContext.empty();\n\n    const msg = ctx.addMessage({ role: 'assistant', content: 'Let me help you with that.' });\n    const toolCall = FunctionCall.create({\n      id: msg.id + '/tool_1',\n      callId: 'call_123',\n      name: 'get_weather',\n      args: '{\"location\": \"San Francisco\"}',\n    });\n    const toolOutput = FunctionCallOutput.create({\n      callId: 'call_123',\n      name: 'get_weather',\n      output: '{\"temperature\": 72, \"condition\": \"sunny\"}',\n      isError: false,\n    });\n\n    ctx.insert([toolCall, toolOutput]);\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'model',\n        parts: [\n          { text: 'Let me help you with that.' },\n          {\n            functionCall: {\n              id: 'call_123',\n              name: 'get_weather',\n              args: { location: 'San Francisco' },\n            },\n          },\n        ],\n      },\n      {\n        role: 'user',\n        parts: [\n          {\n            functionResponse: {\n              id: 'call_123',\n              name: 'get_weather',\n              response: { output: '{\"temperature\": 72, \"condition\": \"sunny\"}' },\n            },\n          },\n        ],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should handle multiple tool calls in one message', async () => {\n    const ctx = ChatContext.empty();\n\n    const msg = ctx.addMessage({ role: 'assistant', content: \"I'll check both locations.\" });\n    const toolCall1 = new FunctionCall({\n      id: msg.id + '/tool_1',\n      callId: 'call_1',\n      name: 'get_weather',\n      args: '{\"location\": \"NYC\"}',\n    });\n    const toolCall2 = new FunctionCall({\n      id: msg.id + '/tool_2',\n      callId: 'call_2',\n      name: 'get_weather',\n      args: '{\"location\": \"LA\"}',\n    });\n    const toolOutput1 = new FunctionCallOutput({\n      callId: 'call_1',\n      name: 'get_weather',\n      output: '{\"temperature\": 65}',\n      isError: false,\n    });\n    const toolOutput2 = new FunctionCallOutput({\n      callId: 'call_2',\n      name: 'get_weather',\n      output: '{\"temperature\": 78}',\n      isError: false,\n    });\n\n    ctx.insert([toolCall1, toolCall2, toolOutput1, toolOutput2]);\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'model',\n        parts: [\n          { text: \"I'll check both locations.\" },\n          {\n            functionCall: {\n              id: 'call_1',\n              name: 'get_weather',\n              args: { location: 'NYC' },\n            },\n          },\n          {\n            functionCall: {\n              id: 'call_2',\n              name: 'get_weather',\n              args: { location: 'LA' },\n            },\n          },\n        ],\n      },\n      {\n        role: 'user',\n        parts: [\n          {\n            functionResponse: {\n              id: 'call_1',\n              name: 'get_weather',\n              response: { output: '{\"temperature\": 65}' },\n            },\n          },\n          {\n            functionResponse: {\n              id: 'call_2',\n              name: 'get_weather',\n              response: { output: '{\"temperature\": 78}' },\n            },\n          },\n        ],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should handle tool calls without accompanying message', async () => {\n    const ctx = ChatContext.empty();\n\n    const toolCall = new FunctionCall({\n      id: 'func_123',\n      callId: 'call_456',\n      name: 'calculate',\n      args: '{\"a\": 5, \"b\": 3}',\n    });\n    const toolOutput = new FunctionCallOutput({\n      callId: 'call_456',\n      name: 'calculate',\n      output: '{\"result\": 8}',\n      isError: false,\n    });\n\n    ctx.insert([toolCall, toolOutput]);\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'model',\n        parts: [\n          {\n            functionCall: {\n              id: 'call_456',\n              name: 'calculate',\n              args: { a: 5, b: 3 },\n            },\n          },\n        ],\n      },\n      {\n        role: 'user',\n        parts: [\n          {\n            functionResponse: {\n              id: 'call_456',\n              name: 'calculate',\n              response: { output: '{\"result\": 8}' },\n            },\n          },\n        ],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should handle tool call errors', async () => {\n    const ctx = ChatContext.empty();\n\n    const toolCall = new FunctionCall({\n      id: 'func_error',\n      callId: 'call_error',\n      name: 'failing_function',\n      args: '{}',\n    });\n    const toolOutput = new FunctionCallOutput({\n      callId: 'call_error',\n      name: 'failing_function',\n      output: 'Function failed to execute',\n      isError: true,\n    });\n\n    ctx.insert([toolCall, toolOutput]);\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'model',\n        parts: [\n          {\n            functionCall: {\n              id: 'call_error',\n              name: 'failing_function',\n              args: {},\n            },\n          },\n        ],\n      },\n      {\n        role: 'user',\n        parts: [\n          {\n            functionResponse: {\n              id: 'call_error',\n              name: 'failing_function',\n              response: { error: 'Function failed to execute' },\n            },\n          },\n        ],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should inject dummy user message when last turn is not user', async () => {\n    const ctx = ChatContext.empty();\n    ctx.addMessage({ role: 'user', content: 'Hello' });\n    ctx.addMessage({ role: 'assistant', content: 'Hi there!' });\n\n    const [result, formatData] = await toChatCtx(ctx, true);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [{ text: 'Hello' }],\n      },\n      {\n        role: 'model',\n        parts: [{ text: 'Hi there!' }],\n      },\n      {\n        role: 'user',\n        parts: [{ text: '.' }],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should not inject dummy user message when last turn is already user', async () => {\n    const ctx = ChatContext.empty();\n    ctx.addMessage({ role: 'assistant', content: 'Hi there!' });\n    ctx.addMessage({ role: 'user', content: 'Hello' });\n\n    const [result, formatData] = await toChatCtx(ctx, true);\n\n    expect(result).toEqual([\n      {\n        role: 'model',\n        parts: [{ text: 'Hi there!' }],\n      },\n      {\n        role: 'user',\n        parts: [{ text: 'Hello' }],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should not inject dummy user message when disabled', async () => {\n    const ctx = ChatContext.empty();\n    ctx.addMessage({ role: 'user', content: 'Hello' });\n    ctx.addMessage({ role: 'assistant', content: 'Hi there!' });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [{ text: 'Hello' }],\n      },\n      {\n        role: 'model',\n        parts: [{ text: 'Hi there!' }],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should handle mixed content with text and multiple images', async () => {\n    serializeImageMock\n      .mockResolvedValueOnce({\n        inferenceDetail: 'high',\n        externalUrl: 'https://example.com/image1.jpg',\n        mimeType: 'image/jpeg',\n      })\n      .mockResolvedValueOnce({\n        inferenceDetail: 'low',\n        mimeType: 'image/png',\n        base64Data: 'base64data',\n      });\n\n    const ctx = ChatContext.empty();\n    ctx.addMessage({\n      role: 'user',\n      content: [\n        'Here are two images:',\n        {\n          id: 'img1',\n          type: 'image_content',\n          image: 'https://example.com/image1.jpg',\n          inferenceDetail: 'high',\n          _cache: {},\n        },\n        'And the second one:',\n        {\n          id: 'img2',\n          type: 'image_content',\n          image: 'data:image/png;base64,base64data',\n          inferenceDetail: 'low',\n          _cache: {},\n        },\n        'What do you think?',\n      ],\n    });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [\n          { text: 'Here are two images:' },\n          {\n            fileData: {\n              fileUri: 'https://example.com/image1.jpg',\n              mimeType: 'image/jpeg',\n            },\n          },\n          { text: 'And the second one:' },\n          {\n            inlineData: {\n              data: 'base64data',\n              mimeType: 'image/png',\n            },\n          },\n          { text: 'What do you think?' },\n        ],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should handle content with only images and no text', async () => {\n    serializeImageMock.mockResolvedValue({\n      inferenceDetail: 'auto',\n      externalUrl: 'https://example.com/image.jpg',\n      mimeType: 'image/jpeg',\n    });\n\n    const ctx = ChatContext.empty();\n    ctx.addMessage({\n      role: 'user',\n      content: [\n        {\n          id: 'img1',\n          type: 'image_content',\n          image: 'https://example.com/image.jpg',\n          inferenceDetail: 'auto',\n          _cache: {},\n        },\n      ],\n    });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [\n          {\n            fileData: {\n              fileUri: 'https://example.com/image.jpg',\n              mimeType: 'image/jpeg',\n            },\n          },\n        ],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should group consecutive messages by role', async () => {\n    const ctx = ChatContext.empty();\n    ctx.addMessage({ role: 'user', content: 'First user message' });\n    ctx.addMessage({ role: 'user', content: 'Second user message' });\n    ctx.addMessage({ role: 'assistant', content: 'First assistant response' });\n    ctx.addMessage({ role: 'assistant', content: 'Second assistant response' });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [{ text: 'First user message' }, { text: 'Second user message' }],\n      },\n      {\n        role: 'model',\n        parts: [{ text: 'First assistant response' }, { text: 'Second assistant response' }],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should handle empty content arrays', async () => {\n    const ctx = ChatContext.empty();\n    ctx.addMessage({ role: 'user', content: [] });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should handle image with default MIME type when missing', async () => {\n    serializeImageMock.mockResolvedValue({\n      inferenceDetail: 'high',\n      externalUrl: 'https://example.com/image.jpg',\n      // No mimeType provided\n    });\n\n    const ctx = ChatContext.empty();\n    ctx.addMessage({\n      role: 'user',\n      content: [\n        {\n          id: 'img1',\n          type: 'image_content',\n          image: 'https://example.com/image.jpg',\n          inferenceDetail: 'high',\n          _cache: {},\n        },\n      ],\n    });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [\n          {\n            fileData: {\n              fileUri: 'https://example.com/image.jpg',\n              mimeType: 'image/jpeg', // Should default to image/jpeg\n            },\n          },\n        ],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should skip empty groups', async () => {\n    const ctx = ChatContext.empty();\n    ctx.addMessage({ role: 'user', content: 'Hello', createdAt: 1000 });\n\n    const orphanOutput = new FunctionCallOutput({\n      callId: 'orphan_call',\n      output: 'This should be ignored',\n      isError: false,\n      createdAt: 2000,\n    });\n    ctx.insert(orphanOutput);\n\n    ctx.addMessage({ role: 'assistant', content: 'Hi!', createdAt: 3000 });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [{ text: 'Hello' }],\n      },\n      {\n        role: 'model',\n        parts: [{ text: 'Hi!' }],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should filter out standalone function calls without outputs', async () => {\n    const ctx = ChatContext.empty();\n\n    const funcCall = new FunctionCall({\n      id: 'func_standalone',\n      callId: 'call_999',\n      name: 'standalone_function',\n      args: '{}',\n    });\n\n    ctx.insert(funcCall);\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n\n  it('should handle mixed content types', async () => {\n    const ctx = ChatContext.empty();\n    ctx.addMessage({\n      role: 'user',\n      content: ['First part', 'Second part'],\n    });\n\n    const [result, formatData] = await toChatCtx(ctx, false);\n\n    expect(result).toEqual([\n      {\n        role: 'user',\n        parts: [{ text: 'First part' }, { text: 'Second part' }],\n      },\n    ]);\n    expect(formatData.systemMessages).toBeNull();\n  });\n});\n"],"mappings":"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","names":[]}