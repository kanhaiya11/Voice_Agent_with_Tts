{"version":3,"sources":["../src/audio_filter.ts"],"sourcesContent":["// SPDX-FileCopyrightText: 2024 LiveKit, Inc.\n//\n// SPDX-License-Identifier: Apache-2.0\nimport { FfiClient } from './ffi_client.js';\nimport type { LoadAudioFilterPluginResponse } from './proto/audio_frame_pb.js';\nimport { LoadAudioFilterPluginRequest } from './proto/audio_frame_pb.js';\n\nexport class AudioFilter {\n  constructor(moduleId: string, path: string, dependencies: string[] = []) {\n    const req = new LoadAudioFilterPluginRequest({\n      moduleId,\n      pluginPath: path,\n      dependencies,\n    });\n\n    const res = FfiClient.instance.request<LoadAudioFilterPluginResponse>({\n      message: {\n        case: 'loadAudioFilterPlugin',\n        value: req,\n      },\n    });\n\n    if (res.error) {\n      throw new Error(`Failed to initialize audio filter: ${res.error}`);\n    }\n  }\n}\n"],"mappings":"AAGA,SAAS,iBAAiB;AAE1B,SAAS,oCAAoC;AAEtC,MAAM,YAAY;AAAA,EACvB,YAAY,UAAkB,MAAc,eAAyB,CAAC,GAAG;AACvE,UAAM,MAAM,IAAI,6BAA6B;AAAA,MAC3C;AAAA,MACA,YAAY;AAAA,MACZ;AAAA,IACF,CAAC;AAED,UAAM,MAAM,UAAU,SAAS,QAAuC;AAAA,MACpE,SAAS;AAAA,QACP,MAAM;AAAA,QACN,OAAO;AAAA,MACT;AAAA,IACF,CAAC;AAED,QAAI,IAAI,OAAO;AACb,YAAM,IAAI,MAAM,sCAAsC,IAAI,KAAK,EAAE;AAAA,IACnE;AAAA,EACF;AACF;","names":[]}